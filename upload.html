<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>upload</title>
    
</head>
<body>

	<input type='file' id='file_input'></input>
	<div id='body'></div>
	<script>				
		var input = document.getElementById("file_input");
		var result,div;
		if(typeof FileReader==='undefined'){
			result.innerHTML = "sorry,your brower can not support FileReader";
			input.setAttribute('disabled','disabled');
		}else{
			input.addEventListener('change',readFile,false);
		}
		function readFile(){				
			for(var i=0;i<this.files.length;i++){
				if (!input['value'].match(/.jpg|.gif|.png|.bmp/i)){
					return;
				}
				var reader = new FileReader();
				reader.readAsDataURL(this.files[i]);
				reader.onload = function(e){
					console.log(this)
					result = '<div id="result"><img src="'+this.result+'" alt=""/></div>';
					div = document.createElement('div');
					div.innerHTML = result;
					document.getElementById('body').appendChild(div);
				}
			}
		}
	</script>
	
</body>
</html>
	
</body>
</html>